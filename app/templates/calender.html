<!DOCTYPE html>
<html>
   <head>
        <div>
        <div class="col-3"><strong>Calender Info</strong></div>
        <div class="col-9 grayborder" id="eventinfo"></div>
        </div>
        <table border="1">
        <tr>
        <th colspan="7">November 2021</th>
        </tr>
        <tr>
        <th>Su</th>
        <th>Mo</th>
        <th>Tu</th>
        <th>We</th>
        <th>Th</th>
        <th>Fr</th>
        <th>Sa</th>
        </tr>

        <tr>
        <td>1</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
        <td>7</td>
        </tr>

        <tr>
        <td>8</td>
        <td>9</td>
        <td>10</td>
        <td>11</td>
        <td>12</td>
        <td>13</td>
        <td>14</td>
        </tr>

        <tr>
        <td>15</td>
        <td>16</td>
        <td>17</td>
        <td>18</td>
        <td>19</td>
        <td>20</td>
        <td>21</td>
        </tr>

        <tr>
        <td>22</td>
        <td>23</td>
        <td>24</td>
        <td>25</td>
        <td>26</td>
        <td>27</td>
        <td>28</td>
        </tr>

        <tr>
        <td>29</td>
        <td>30</td>
        <td>31</td>
        </tr>

        </table>
        <script src=
            "https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js">
            </script>

            <script>

                'use strict';

                function getAmPm(){
                    let dateTime = new Date();
                    let hours = dateTime.getHours();
                    let amPm = 'morning';
                    if (hours >= 12)
                    amPm = 'afternoon';
                    $('#ampmSpan').html(amPm);
                }

                function getDateTime()
                {
                    let dateTime = new Date();
                    $('#datetimeSpan').html(dateTime.toLocaleString());
                }

                function handleResponse(response)
                {
                    $('#eventinfo').html(response);
                }

                let request = null;

                function getResults()
                {
                    let author = $('#authorInput').val();
                    author = encodeURIComponent(author);
                    let url = '/searchresults?author=' + author;

                    if (request != null)
                    request.abort();

                    request = $.ajax(
                    {
                        type: 'GET',
                        url: url,
                        success: handleResponse
                    }
                    );
                }

                function setup()
                {
                    getAmPm();
                    window.setInterval(getAmPm, 1000);
                    getDateTime();
                    window.setInterval(getDateTime, 1000);
                    $('#authorInput').on('input', getResults);
                }

                $('document').ready(setup);

            </script>