<!DOCTYPE html>
<html>
   <head>
      <head>
      <title>Mist - Calendar View</title>
      
      <meta name="viewport"
      content="width=device-width, initial-scale=1">
      <link rel="shortcut icon" type="image/x-icon" href="https://mist-asset.s3.us-east-2.amazonaws.com/temp+logo.ico" />
      <link rel="stylesheet" href=
        "https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
   </head>
   <body>


        <div>
        <div class="col-9 grayborder" id="eventinfo"></div>
        </div>

        <div class ="container-fluid" style ="background-color:rgb(255, 143, 0);">
            <div class="row" style="background-color:rgb(255, 143, 0);">
                <div class = "col-3" display: inline-block; style = "display:inline-block;padding:0;margin:0;">
                    <a href = "https://mist-princeton.herokuapp.com/"><img src="https://mist-asset.s3.us-east-2.amazonaws.com/mist+map2.png"  class="responsive" style = "max-width:30%;height:auto;float:left;"></a>
                </div>
                <div class = "col-6 align-middle" display: inline-block;><center><h1 class="align-middle" style="font-size:4vw;float:center;display:inline;">Welcome to Mist!</h1></center></div>
                <div class = "col-3"display: inline-block; style = "display:inline-block;padding:0;">
                    <a href = "https://mist-princeton.herokuapp.com/"><img src="https://mist-asset.s3.us-east-2.amazonaws.com/mist+day.png"  class="responsive" style = "max-width:30%;height:auto;float:right;"></a>
                </div>
            </div>
        </div>
        <center><div class="header">
        <h2>Calendar View</h2>
        <h3>Good <span id="ampmSpan"></span> user.</h3>
        </div></center>


        <table class="table table-bordered table-hover">
        <tr style="background-color:black;color:white;">
        <th colspan="7"><h3 align="center">November 2021</h3></th>
        </tr>
        <tr style="background-color: rgb(110, 110, 110);">
        <th>Su</th>
        <th>Mo</th>
        <th>Tu</th>
        <th>We</th>
        <th>Th</th>
        <th>Fr</th>
        <th>Sa</th>
        </tr>

        <tr>
        <td>1</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
        <td>7</td>
        </tr>

        <tr>
        <td>8</td>
        <td>9</td>
        <td>10</td>
        <td>11</td>
        <td>12</td>
        <td>13</td>
        <td>14</td>
        </tr>

        <tr>
        <td>15</td>
        <td>16</td>
        <td>17</td>
        <td>18</td>
        <td>19</td>
        <td>20</td>
        <td>21</td>
        </tr>

        <tr>
        <td>22</td>
        <td>23</td>
        <td>24</td>
        <td>25</td>
        <td>26</td>
        <td>27</td>
        <td>28</td>
        </tr>

        <tr>
        <td>29</td>
        <td>30</td>
        <td>31</td>
        </tr>
        
        </table>
        <div class="footer">
         Date and time: <span id="datetimeSpan"></span><br>
         Created by Hassan Abioye, Anthony Gartner, Benjamin Nadon, Nicholas Cabrera
        </div>
        <script src=
            "https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js">
        </script>

        <script>

            'use strict';

            function getAmPm(){
                let dateTime = new Date();
                let hours = dateTime.getHours();
                let amPm = 'morning';
                if (hours >= 12)
                amPm = 'afternoon';
                $('#ampmSpan').html(amPm);
            }

            function getDateTime(){
                let dateTime = new Date();
                $('#datetimeSpan').html(dateTime.toLocaleString());
            }

            function handleResponse(response){
                $('#eventinfo').html(response);
            }

            let request = null;

                function getCalinfo()
                {
                    let author = $('#authorInput').val();
                    author = encodeURIComponent(author);
                    // look at how you retrieve information
                    let url = '/calender';

                    if (request != null)
                    request.abort();

                    request = $.ajax(
                    {
                        type: 'GET',
                        url: url,
                        success: handleResponse
                    }
                    );
                }

                function setup()
                {
                    getAmPm();
                    window.setInterval(getAmPm, 1000);
                    getDateTime();
                    window.setInterval(getDateTime, 1000);
                    getCalinfo();
                    window.setInterval(getCalinfo, 1000);
                    window.getMonth()
                }

                $('document').ready(setup);

        </script>
    </body>
</html>